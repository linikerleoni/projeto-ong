const menuHamburguer=document.querySelector(".menu-hamburguer"),menuPrincipal=document.querySelector(".menu-principal");menuHamburguer&&menuPrincipal&&menuHamburguer.addEventListener("click",()=>{menuHamburguer.classList.toggle("aberto"),menuPrincipal.classList.toggle("aberto")});const pageStyles={"index.html":"css/style.css","cadastro.html":"css/cadastro.css","projetos.html":"css/projetos.css"};function atualizarCSS(e){let r=e.split("/").pop()||"index.html",o=pageStyles[r]||"css/style.css",t=document.getElementById("page-stylesheet");t?o?(t.href=o,t.disabled=!1,console.log("CSS atualizado para:",o)):(t.href="",t.disabled=!0,console.log("CSS da p\xe1gina removido.")):console.error("Elemento <link> com id 'page-stylesheet' n\xe3o encontrado!")}function carregarConteudo(e){console.log("Tentando carregar:",e),atualizarCSS(e);let r=document.querySelector("main");if(!r){console.error("Elemento <main> n\xe3o encontrado!");return}fetch(e).then(e=>{if(!e.ok)throw Error("Erro ao carregar a p\xe1gina: "+e.statusText);return e.text()}).then(o=>{let t=new DOMParser,a=t.parseFromString(o,"text/html"),n=a.querySelector("main");if(n){r.innerHTML=n.innerHTML,console.log("Conte\xfado carregado com sucesso!");let i=e.split("/").pop()||"index.html";"cadastro.html"===i&&setupFormValidation(),"projetos.html"===i&&renderizarProjetoDinamico()}else console.error("Tag <main> n\xe3o encontrada no arquivo:",e),r.innerHTML="<p>Erro: N\xe3o foi poss\xedvel carregar o conte\xfado.</p>"}).catch(e=>{console.error("Falha ao buscar a p\xe1gina:",e),r.innerHTML="<p>Erro ao carregar a p\xe1gina. Tente novamente mais tarde.</p>"})}document.querySelectorAll(".menu-principal a").forEach(e=>{e.addEventListener("click",r=>{let o=e.getAttribute("href");!(!o||o.startsWith("#")||o.startsWith("javascript:")||o.startsWith("http"))&&(r.preventDefault(),history.pushState(null,"",o),carregarConteudo(o),menuPrincipal.classList.contains("aberto")&&(menuHamburguer.classList.remove("aberto"),menuPrincipal.classList.remove("aberto")))})}),window.addEventListener("popstate",()=>{let e=location.pathname.split("/").pop()||"index.html";carregarConteudo(e)});const paginaInicial=location.pathname.split("/").pop()||"index.html";function isValidEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function setupFormValidation(){console.log("Configurando valida\xe7\xe3o do formul\xe1rio...");let e=document.querySelector("#form-cadastro"),r=document.querySelector("#nome"),o=document.querySelector("#email"),t=document.querySelector("#telefone"),a=document.querySelector("#form-errors");if(!e){console.error("Formul\xe1rio #form-cadastro n\xe3o encontrado!");return}e.addEventListener("submit",n=>{n.preventDefault(),console.log("Formul\xe1rio enviado, validando...");let i=[];if(a&&(a.innerHTML=""),r&&""!==r.value.trim()||i.push('O campo "Nome completo" \xe9 obrigat\xf3rio.'),o&&""!==o.value.trim()?isValidEmail(o.value)||i.push("Porfavor, insira um e-mail v\xe1lido."):i.push("O e-mail \xe9 obrigat\xf3rio"),t&&""!==t.value.trim()||i.push('O campo "Telefone" \xe9 obrigat\xf3rio.'),i.length>0){if(console.warn("Erros de valida\xe7\xe3o:",i),a){let l=document.createElement("ul");i.forEach(e=>{let r=document.createElement("li");r.textContent=e,l.appendChild(r)}),a.appendChild(l)}}else console.log("Formul\xe1rio v\xe1lido. Enviando..."),alert("Obrigado! Seu cadastro foi enviado com sucesso."),e.reset(),carregarConteudo("index.html"),history.pushState(null,"","index.html")})}function renderizarProjetoDinamico(){console.log("Renderizando projeto din\xe2mico (Template JS)...");let e=document.querySelector(".projetos-container");if(!e){console.error("Container '.projetos-container' n\xe3o encontrado!");return}let r=`
    <article class="projeto-card projeto-card1"
        <h3><strong>Ado\xe7\xe3o Virtual</strong></h3>
        <p>
        A ado\xe7\xe3o virtual \xe9 uma forma de ajudar mesmo \xe0 dist\xe2ncia!
        Por meio desse projeto, voc\xea pode apadrinhar um c\xe3o ou gato resgatado, contribuindo mensalmente para seus cuidados com alimenta\xe7\xe3o, vacinas e tratamentos veterin\xe1rios.
        </p>
    </article>
    `;e.insertAdjacentHTML("beforeend",r)}function inicializarModoEscuro(){let e=document.getElementById("dark-mode-toggle");e&&(e.addEventListener("click",()=>{document.body.classList.toggle("dark-mode"),document.body.classList.contains("dark-mode")?(e.textContent="Claro",e.setAttribute("aria-label","Alternar modo claro")):(e.textContent="Escuro",e.setAttribute("aria-label","Alternar modo escuro"))}),document.body.classList.contains("dark-mode")?e.textContent="Claro":e.textContent="Escuro")}carregarConteudo(paginaInicial),console.log("main.js carregado e roteador SPA iniciado!"),inicializarModoEscuro();